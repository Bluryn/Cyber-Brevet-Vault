
## ğŸŒ SSRF (Server-Side Request Forgery)

---

## Introduction

Le <span class="concept">SSRF</span> est une vulnÃ©rabilitÃ© permettant Ã  un attaquant de forcer le serveur cible Ã  Ã©mettre des requÃªtes vers dâ€™autres ressources.

Elle peut permettre :
- Dâ€™exfiltrer des donnÃ©es internes
- Dâ€™atteindre des rÃ©seaux internes (pivot)
- De contourner des ACL
- Dâ€™obtenir un accÃ¨s aux metadata services (cloud SSRF)

TrÃ¨s critique dans les architectures cloud / microservices / API REST.

---

## Objectifs

- <span class="goal">Identifier des points dâ€™injection SSRF</span>
- <span class="goal">Explorer lâ€™internal network via SSRF</span>
- <span class="goal">Exploiter lâ€™impact maximum (pivot, RCE...)</span>

---

## Outils & commandes

| Outil | Exemple & explication |
|-------|-----------------------|
| <span class="technology">Burp Suite (Repeater, Collaborator)</span> | Fuzz et dÃ©tection SSRF |
| <span class="technology">SSRFmap</span> | <span class="example">ssrfmap -u target --exploit aws</span> |
| <span class="technology">ffuf</span> | <span class="example">ffuf -u target?url=FUZZ -w urls.txt</span> |
| <span class="technology">feroxbuster</span> | Mapping large |
| <span class="technology">Param Miner</span> | DÃ©tection de params vulnÃ©rables |
| <span class="technology">bbot</span> | Recon avancÃ©e |
| <span class="technology">dnslog.cn / Burp Collaborator</span> | Blind SSRF tracking |

---

## Types de SSRF

| Type | Exemple |
|------|---------|
| <span class="concept">Basic SSRF</span> | Param URL vulnÃ©rable (`url=http://internal`) |
| <span class="concept">Auth Bypass SSRF</span> | Utiliser SSRF pour contourner auth interne |
| <span class="concept">Blind SSRF</span> | DÃ©tectÃ©e uniquement via DNS exfil |
| <span class="concept">Cloud SSRF</span> | Exploitation metadata AWS, GCP, Azure |
| <span class="concept">Advanced SSRF</span> | Chained SSRF â†’ RCE / Pivot |

---

## Techniques clÃ©s

| Technique | Outil |
|-----------|------|
| <span class="concept">Basic injection</span> | Burp, Repeater |
| <span class="concept">Blind tracking</span> | Burp Collaborator |
| <span class="concept">Automated scan</span> | SSRFmap |
| <span class="concept">Param discovery</span> | Param Miner |
| <span class="concept">Bypass filters</span> | Manual + encoding + ffuf |
| <span class="concept">Cloud metadata exploitation</span> | SSRFmap aws/gcp |

---

## Bonnes pratiques

- <span class="best-practice">VÃ©rifier les IP ranges internes atteints</span> (127.0.0.1, 169.254...)</span>
- <span class="best-practice">Utiliser Burp Collaborator pour Blind SSRF</span>
- <span class="best-practice">Documenter toutes les Ã©tapes de pivot / rÃ©seau atteint</span>
- <span class="mitigation">Limiter les requÃªtes rÃ©pÃ©titives en prod</span>
- <span class="best-practice">Tester les metadata services (cloud)</span>

---

## ğŸ¯ Exemple de scÃ©nario

> <span class="note">ğŸŒ Cible :</span> Plateforme SaaS multi-tenant

Actions :
- <span class="technology">Param Miner</span> â†’ dÃ©couverte param `img_url`
- <span class="technology">Burp Repeater</span> â†’ test SSRF â†’ accÃ¨s interne confirmÃ©
- <span class="technology">Burp Collaborator</span> â†’ Blind SSRF sur `/avatar/proxy`
- <span class="technology">SSRFmap --exploit aws</span> â†’ rÃ©cupÃ©ration de credentials AWS EC2
- Rapport : pivot rÃ©seau + credentials exfiltrÃ©s

---

## Cheatlist SSRF

| Type | Outils |
|------|--------|
| Basic | Burp, ffuf |
| Blind | Burp Collaborator, dnslog.cn |
| Param discovery | Param Miner |
| Cloud | SSRFmap |
| Advanced | manual chaining |

---

## ğŸš€ Navigation

- ğŸš€ [[10_SSTI]]
