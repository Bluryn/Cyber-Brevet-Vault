
## ğŸ—‚ï¸ IDOR (Insecure Direct Object Reference)

---

## Introduction

Lâ€™<span class="concept">IDOR</span> (Insecure Direct Object Reference) permet Ã  un attaquant dâ€™accÃ©der Ã  des ressources non autorisÃ©es en manipulant un identifiant.

Souvent critique :
- AccÃ¨s Ã  des comptes tiers
- Lecture ou modification de donnÃ©es sensibles
- Escalade dâ€™autorisations

Exemples :
- `/profile?id=1000` â†’ voir le profil dâ€™un autre utilisateur
- `/invoice/2024-001.pdf` â†’ tÃ©lÃ©charger les factures des autres

---

## Objectifs

- <span class="goal">Identifier des IDOR</span>
- <span class="goal">Qualifier lâ€™impact (lecture, Ã©criture, suppression...)</span>
- <span class="goal">Documenter la faille pour remÃ©diation</span>

---

## Outils & commandes

| Outil | Exemple & explication |
|-------|-----------------------|
| <span class="technology">Burp Suite (Proxy + Repeater)</span> | Test manuel |
| <span class="technology">Autorize</span> | Automatiser la dÃ©tection |
| <span class="technology">Param Miner</span> | DÃ©couverte de paramÃ¨tres |
| <span class="technology">ffuf</span> | Fuzz dâ€™identifiants |
| <span class="technology">feroxbuster</span> | Discovery large |
| <span class="technology">bbot</span> | Recon |
| <span class="technology">jwt.io / JWT Inspector</span> | IDOR via JWT manipulÃ© |

---

## Types dâ€™IDOR

| Type | Exemple |
|------|---------|
| <span class="concept">GET param</span> | `/user?id=42` |
| <span class="concept">POST param</span> | `{ "invoice_id": "23" }` |
| <span class="concept">API REST ID</span> | `/api/v1/users/23` |
| <span class="concept">Hidden param</span> | champ hidden form |
| <span class="concept">JWT IDOR</span> | token manipulÃ© |

---

## Techniques clÃ©s

| Technique | Outil |
|-----------|------|
| <span class="concept">Manual ID manipulation</span> | Burp Repeater |
| <span class="concept">Automated testing</span> | Autorize |
| <span class="concept">Param discovery</span> | Param Miner |
| <span class="concept">Fuzz ID range</span> | ffuf |
| <span class="concept">JWT manipulation</span> | jwt.io |

---

## Bonnes pratiques

- <span class="best-practice">Tester Ã  plusieurs niveaux (GET, POST, API, JWT)</span>
- <span class="best-practice">Toujours changer de session user (pour voir cross-user)</span>
- <span class="best-practice">Documenter lâ€™impact mÃ©tier (lecture seule ? Ã©criture ?)</span>
- <span class="mitigation">Limiter le bruit (ne pas flooder lâ€™API en prod)</span>

---

## ğŸ¯ Exemple de scÃ©nario

> <span class="note">ğŸ—‚ï¸ Cible :</span> Web app SaaS B2B

Actions :
- <span class="technology">Param Miner</span> â†’ dÃ©couverte param `client_id`
- <span class="technology">ffuf</span> â†’ ID fuzzing `/invoice/NNN.pdf`
- AccÃ¨s confirmÃ© aux factures dâ€™autres clients
- <span class="technology">Autorize</span> â†’ API REST vulnÃ©rable `/api/v1/users/`
- Rapport complet avec POC et screenshots

---

## Cheatlist IDOR

| Type | Outils |
|------|--------|
| Manual | Burp, Repeater |
| Automated | Autorize |
| Param discovery | Param Miner |
| Fuzz | ffuf |
| JWT | jwt.io, JWT Inspector |

---

## ğŸš€ Navigation

- ğŸš€ [[09_SSRF]]
- ğŸš€ [[10_SSTI]]
