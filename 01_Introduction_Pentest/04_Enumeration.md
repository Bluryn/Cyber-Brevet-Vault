
## üß© Enumeration

---

## Introduction

La phase d‚Äô<span class="concept">enumeration</span> permet de r√©colter des informations d√©taill√©es sur les syst√®mes et services d√©couverts durant le <span class="concept">scanning</span>.

Elle consiste √† approfondir l‚Äôanalyse de chaque service pour identifier des points d‚Äôentr√©e sp√©cifiques :
- <span class="indicator">Utilisateurs</span>
- <span class="indicator">Partages r√©seau</span>
- <span class="indicator">Versions sp√©cifiques</span>
- <span class="indicator">Groupes AD</span>
- <span class="indicator">Mots de passe faibles ou par d√©faut</span>

Une **enumeration r√©ussie** est un tremplin direct vers l‚Äô<span class="concept">exploitation</span>.

---

## Objectifs

- <span class="goal">Obtenir un maximum d‚Äôinformations exploitables</span>
- <span class="goal">Identifier les failles de configuration</span>
- <span class="goal">Pr√©parer la phase d‚Äôexploitation</span>

---

## Outils & commandes

| Service cibl√© | Outil / Exemple |
|---------------|-----------------|
| <span class="protocol">SMB</span> | <span class="technology">enum4linux-ng -A target</span> |
| <span class="protocol">SMB</span> | <span class="technology">rpcclient -U "" -N target</span> ‚Üí <span class="note">Lister les users, groupes</span> |
| <span class="protocol">SNMP</span> | <span class="technology">onesixtyone</span>, <span class="technology">snmpwalk -v2c -c public target</span> |
| <span class="protocol">LDAP / AD</span> | <span class="technology">ldapsearch -x -h target -b "dc=target,dc=local"</span> |
| <span class="protocol">FTP</span> | <span class="technology">nmap -p21 --script ftp-anon</span> |
| <span class="protocol">SSH</span> | <span class="technology">nmap -p22 --script ssh-hostkey, ssh2-enum-algos</span> |
| <span class="protocol">HTTP(S)</span> | <span class="technology">whatweb</span>, <span class="technology">nikto</span>, <span class="technology">ffuf</span>, <span class="technology">gobuster</span>, <span class="technology">feroxbuster</span> |
| <span class="protocol">DNS</span> | <span class="technology">dig axfr @ns.target.ch target.ch</span> |
| <span class="protocol">RDP</span> | <span class="technology">nmap --script rdp-enum-encryption</span> |
| <span class="protocol">Database (MySQL, MSSQL)</span> | <span class="technology">mysql -u root -p -h target</span> / <span class="technology">sqsh -S target -U sa</span> |

---

## Techniques passives

| M√©thode | Outil |
|---------|------|
| <span class="concept">Analyse de banni√®res</span> | <span class="technology">nmap -sV</span>, <span class="technology">curl -I</span> |
| <span class="concept">OSINT sur utilisateurs</span> | LinkedIn, GitHub |
| <span class="concept">Analyse de pages web</span> | <span class="technology">whatweb</span>, <span class="technology">Wappalyzer</span> |

## Techniques actives

| M√©thode | Outil |
|---------|------|
| <span class="concept">Enum√©ration SMB</span> | <span class="technology">enum4linux-ng</span>, <span class="technology">rpcclient</span>, <span class="technology">smbmap</span> |
| <span class="concept">Enum√©ration LDAP / AD</span> | <span class="technology">ldapsearch</span> |
| <span class="concept">Bruteforce de r√©pertoires</span> | <span class="technology">ffuf</span>, <span class="technology">gobuster</span>, <span class="technology">feroxbuster</span> |
| <span class="concept">DNS zone transfer</span> | <span class="technology">dig axfr @ns.target.local target.local</span> |
| <span class="concept">Enum√©ration DB (MySQL, MSSQL)</span> | <span class="technology">mysql</span>, <span class="technology">sqsh</span> |

---

## Bonnes pratiques

- <span class="best-practice">Lister syst√©matiquement chaque service et version</span>
- <span class="best-practice">Chercher √† obtenir des comptes utilisables</span>
- <span class="best-practice">Documenter toute information li√©e aux utilisateurs</span>
- <span class="mitigation">Limiter les bruteforce agressifs sur services critiques</span>

---

## Liens vers exploitation

- Credentials r√©cup√©r√©s ‚Üí <span class="technology">pass-the-hash</span>, <span class="technology">Kerberoasting</span>
- Enum partages ‚Üí exfiltration possible
- Enum users ‚Üí bruteforce SSH / RDP
- Enum HTTP dirs ‚Üí pages vuln√©rables
- Enum LDAP ‚Üí attaque Kerberos / Escalade
- Enum DB ‚Üí injection SQL / escalade / extraction

---

## üéØ Exemple de sc√©nario

> <span class="note">üß© Cible :</span> Serveur interne exposant SMB, LDAP, Intranet

Actions :
- <span class="technology">enum4linux-ng -A target</span> ‚Üí users + shares + groups
- <span class="technology">rpcclient -U "" -N target</span> ‚Üí extraction utilisateurs
- <span class="technology">ldapsearch -x -h target.local -b "dc=target,dc=local"</span> ‚Üí groupes AD
- <span class="technology">ffuf</span> ‚Üí admin hidden page sur intranet
- <span class="technology">mysql -u root -p -h db.target.local</span> ‚Üí acc√®s en clair avec creds par d√©faut

---

## Cheatlist r√©cap rapide

| Service | Outils cl√©s |
|---------|------------|
| SMB | enum4linux-ng, rpcclient, smbmap |
| LDAP / AD | ldapsearch |
| HTTP(S) | whatweb, gobuster, ffuf, feroxbuster |
| DNS | dig |
| DB | mysql, sqsh |
| RDP | nmap NSE |
| FTP | nmap NSE |
| SSH | nmap NSE |

---

## üöÄ Navigation

- üöÄ [[05_Exploitation]]
- üöÄ [[06_Privilege_Escalation]]
